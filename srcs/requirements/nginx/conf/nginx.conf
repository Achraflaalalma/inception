# server {
#     # listen 80;
#     listen 443 ssl;
#     server_name localhost;

#     root /var/www/html;
#     index index.php index.html index.htm;

#     ssl_certificate /etc/ssl/certs/nginx.crt;
#     ssl_certificate_key /etc/ssl/private/nginx.key;

#     ssl_protocols TLSv1.2;

#     # Check if the file exists and fallback to index.php if necessary
#     location / {
#         try_files $uri $uri/ /index.php?$args;
#     }

#     # Pass PHP requests to the PHP-FPM container
#     location ~ \.php$ {
#         include fastcgi.conf;
#         fastcgi_pass wp-php:9000;
#         fastcgi_index index.php;
#     }

#     # Add proper permissions for file access (if needed)
#     location ~ /\.ht {
#         deny all;
#     }
# }



user www-data;
worker_processes auto;

events {
    worker_connections 1024;
}

http {
    include       mime.types;

    server {
        listen 443 ssl;
        server_name localhost;

        ssl_certificate /etc/ssl/certs/nginx.crt;
        ssl_certificate_key /etc/ssl/private/nginx.key;

        ssl_protocols TLSv1.2;

        location / {
            root /usr/share/nginx/html;
            index index.php index.html index.htm;
        }

        # configuration for PHP-FPM 
     location ~ \.php$ {
        include fastcgi.conf;
        fastcgi_pass wp-php:9000;
        fastcgi_index index.php;
    }
    }
}
